<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <title>resourcing</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script>
	<link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="third/nvd3/nv.d3.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.2/d3.min.js" charset="utf-8"></script>
	<link rel="stylesheet" href="third/jquery.dynatable.css">
	<link href="http://netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css" rel="stylesheet">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="third/mindmup-editabletable.js"></script>
	<script src="third/json-to-table.js"></script>
	<script src="third/jquery.tabletojson.min.js"></script>
	<script src="third/nvd3/nv.d3.min.js"></script>
	<script src="timeline.js"></script>
	<script src="project.js"></script>
	<link rel="stylesheet" href="third/pocketgrid.css">
	<link rel="stylesheet" href="style.css">

</head>
<body>
	<div class = "full block-group">

		<div class="dashboard block">		

			<div class = "full block-group">
				
				<div class="map block"><button type="button" onclick="projectView()">projectView</button>	
					<svg id="flux" style="overflow:hidden" version="1.1" xmlns="http://www.w3.org/2000/vsg" xmlns:xlink="http://www.w3.org/1999/xlink" 
					viewBox="0 0 420.0 297.0">
					<g id="desk">
					<polygon id="desk1" centroid="13391.967222, 19731.19216" points="144.304599381364,140.97957107964 148.144537884304,147.630539664674 149.010563288087,148.130539664674 156.687239452504,148.130539664673 156.687239452504,153.463258627483 146.229682280021,153.463258627483 144.901776660883,152.68057913556 139.685797227846,143.646237746306 144.305131441845,140.979263894379 144.304599381364,140.97957107964"/>
					<polygon id="desk2" centroid="11384.65603, 22333.008655" points="130.495075843442,129.091778397011 134.699484799243,121.809528469765 139.31828695276,124.476195136431 136.489918927054,129.375072259458 136.489918927054,130.375072259458 139.319325369514,135.275747973062 134.701055276478,137.942107454467 130.481208329982,130.633118142973 130.495075843442,129.091778397011"/>
					<polygon id="desk3" centroid="10162.629342, 21523.138948" points="130.024518096042,140.642107454466 127.194579593102,135.740510185078 126.328554189317,135.240510185078 118.671878024902,135.240510185078 118.671878024901,129.907791222268 129.109435197387,129.907791222268 130.437340816523,130.690470714192 134.643320249559,137.9754407878 130.024518096042,140.642107454466"/>
					<polygon id="desk4" centroid="13624.706653, 24583.643195" points="148.314515630034,109.504583169771 156.723333541637,109.504583169771 156.723333541637,114.837916503104 151.066597490225,114.837916503104 150.20057208644,115.337916503104 147.37116564398,120.238592216708 142.752895550943,117.572232735303 146.972742497439,110.263243423809 148.314515630034,109.504583169771"/>
					<polygon id="desk5" centroid="12477.835409, 25523.4589" points="138.076358370506,114.872232735303 140.906296873447,109.970635465915 140.906296873447,108.970635465915 137.077958791239,102.33975939898 141.696228884275,99.673399917575 146.915007470518,108.7125895824 146.901139957059,110.253929328362 142.695160524023,117.53889940197 138.076358370506,114.872232735303"/>
					<polygon id="desk6" centroid="13550.022352, 26333.509579" points="156.726474496105,104.104583169772 151.066597490224,104.104583169772 150.200572086439,103.604583169772 146.372234004233,96.9737071028364 141.753963911196,99.6400665842408 146.972742497438,108.679256249067 148.314515630033,109.437916503105 156.726474496105,109.437916503106 156.726474496105,104.104583169772"/>
					<polygon id="desk7" centroid="5487.926032, 32169.161139" points="90.6595770718766,61.3014680684847 100.326243738543,61.3014680684847 100.326243738543,67.3014680684847 90.6595770718766,67.3014680684847 90.6595770718766,61.3014680684847"/>
					<polygon id="desk8" centroid="8907.177645, 31269.161139" points="113.454587824341,73.3014680684847 123.121254491008,73.3014680684847 123.121254491008,67.3014680684847 113.454587824341,67.3014680684847 113.454587824341,73.3014680684847"/>
					<polygon id="desk9" centroid="8907.177645, 32169.161139" points="113.454587824341,61.3014680684847 123.121254491008,61.3014680684847 123.121254491008,67.3014680684847 113.454587824341,67.3014680684847 113.454587824341,61.3014680684847"/>
					<polygon id="desk10" centroid="7457.177645, 31269.161139" points="103.787921157675,73.3014680684847 113.454587824341,73.3014680684847 113.454587824341,67.3014680684847 103.787921157675,67.3014680684847 103.787921157675,73.3014680684847"/>
					<polygon id="desk11" centroid="7457.177645, 32169.161139" points="103.787921157675,61.3014680684847 113.454587824341,61.3014680684847 113.454587824341,67.3014680684847 103.787921157675,67.3014680684847 103.787921157675,61.3014680684847"/>
					<polygon id="desk12" centroid="2148.357194, 32169.161139" points="68.3957848225017,61.3014680684847 78.0624514891684,61.3014680684847 78.0624514891684,67.3014680684847 68.3957848225017,67.3014680684847 68.3957848225017,61.3014680684847"/>
					<polygon id="desk13" centroid="698.357194, 32169.161139" points="58.729118155835,61.3014680684847 68.3957848225017,61.3014680684847 68.3957848225017,67.3014680684847 58.729118155835,67.3014680684847 58.729118155835,61.3014680684847"/>
					<polygon id="desk14" centroid="9772.682051, 28338.216046" points="126.726859253834,84.4755499987123 126.722374679169,95.2088823951787 121.38904181136,95.2066540350967 121.393526386025,84.4733216386303 126.726859253834,84.4755499987123"/>
					<polygon id="desk15" centroid="5487.926032, 31269.161139" points="90.6595770718766,73.3014680684847 100.326243738543,73.3014680684847 100.326243738543,67.3014680684847 90.6595770718766,67.3014680684847 90.6595770718766,73.3014680684847"/>
					<polygon id="desk16" centroid="4037.926032, 31269.161139" points="80.9929104052099,73.3014680684847 90.6595770718766,73.3014680684847 90.6595770718766,67.3014680684847 80.9929104052099,67.3014680684847 80.9929104052099,73.3014680684847"/>
					<polygon id="desk17" centroid="4037.926032, 32169.161139" points="80.9929104052099,61.3014680684847 90.6595770718766,61.3014680684847 90.6595770718766,67.3014680684847 80.9929104052099,67.3014680684847 80.9929104052099,61.3014680684847"/>
					<polygon id="desk18" centroid="2148.357194, 31269.161139" points="68.3957848225017,73.3014680684847 78.0624514891684,73.3014680684847 78.0624514891684,67.3014680684847 68.3957848225017,67.3014680684847 68.3957848225017,73.3014680684847"/>
					<polygon id="desk19" centroid="698.357194, 31269.161139" points="58.729118155835,73.3014680684847 68.3957848225017,73.3014680684847 68.3957848225017,67.3014680684847 58.729118155835,67.3014680684847 58.729118155835,73.3014680684847"/>
					<polygon id="desk20" centroid="10162.629342, 23143.286383" points="130.024518096042,119.106808323403 127.194579593101,124.008405592791 126.328554189317,124.508405592792 118.671878024901,124.508405592791 118.671878024901,129.841124555601 129.109435197387,129.841124555601 130.437340816523,129.058445063677 134.643320249559,121.77347499007 130.024518096042,119.106808323403"/>
					<polygon id="desk21" centroid="1977.259786, 27651.743829" points="71.0645365096157,87.3107474401172 77.7312031762824,98.8577528239097 73.1124010227654,101.524419490576 66.4457343560987,89.9774141067839 71.0645365096157,87.3107474401172"/>
					<polygon id="desk22" centroid="5382.54806, 25918.349668" points="90.7903905938234,103.3068778747 98.7903905938234,103.3068778747 98.7903905938234,108.640211208033 90.7903905938234,108.640211208033 90.7903905938234,103.3068778747"/>
					<polygon id="desk23" centroid="2678.740363, 28056.743829" points="71.1222715365312,87.2774141067858 77.7889382031995,98.8244194905774 82.4077403567162,96.1577528239101 75.7410736900479,84.6107474401185 71.1222715365312,87.2774141067858"/>
					<polygon id="desk24" centroid="12367.672452, 28208.283823" points="145.373834424964,84.4412337665127 142.543895922024,89.3428310359014 142.543895922023,90.3428310359016 146.372234004232,96.9737071028357 141.753963911196,99.6400665842412 136.535185324952,90.6008769194165 136.549052838411,89.0595371734543 140.755032271446,81.7745670998463 145.373834424964,84.4412337665127"/>
					<polygon id="desk25" centroid="7881.794984, 25512.285179" points="116.473341765286,101.533051991949 112.630755354211,108.182491103549 112.630357184757,109.182491024279 116.46604785391,115.832215381266 111.846716464065,118.496735797233 106.621544318007,109.438144402329 106.636025544769,107.896810300167 111.855601763107,98.8645464707388 116.473873703412,101.533359389036 116.473341765286,101.533051991949"/>
					<polygon id="desk26" centroid="11220.801208, 29148.099528" points="135.135677165437,89.8088833320455 126.726859253834,89.8088833320456 126.726859253834,84.4755499987123 132.383595305247,84.4755499987122 133.249620709032,83.9755499987123 136.079027151492,79.0748742851085 140.697297244528,81.7412337665134 136.477450298033,89.0502230780077 135.135677165437,89.8088833320455"/>
					<polygon id="desk27" centroid="2883.831871, 25513.304077" points="73.1124010227656,101.524419490578 76.9523395257065,108.17538807561 76.9523395257078,109.17538807561 73.1140014434983,115.823584650621 77.7322715365348,118.489944132025 82.9610501227766,109.433433959127 82.9471826093185,107.892094213163 77.7312031762824,98.8577528239097 73.111868962285,101.524726675839 73.1124010227656,101.524419490578"/>
					<polygon id="desk28" centroid="11295.48551, 27398.233144" points="126.723718299366,95.2088833320452 132.383595305247,95.2088833320455 133.249620709032,95.7088833320454 137.077958791239,102.33975939898 141.696228884276,99.6733999175754 136.477450298033,90.6342102527501 135.135677165437,89.8755499987122 126.723718299366,89.8755499987119 126.723718299366,95.2088833320452"/>
					<polygon id="desk29" centroid="3807.438368, 24571.865688" points="82.4077403567192,121.191794586263 86.2476788596594,114.54082600123 87.1137042634425,114.040826001229 90.7903804278596,114.04082600123 90.7903804278592,108.70810703842 84.3328232553762,108.70810703842 83.0049176362381,109.490786530344 77.7889382032013,118.525127919597 82.4082724171995,121.192101771525 82.4077403567192,121.191794586263"/>
					<polygon id="desk30" centroid="5382.546535, 25108.257449" points="90.7903804278596,108.707492667897 98.7903804278596,108.707492667897 98.7903804278596,114.04082600123 90.7903804278596,114.04082600123 90.7903804278596,108.707492667897"/>
					<polygon id="desk31" centroid="6957.520688, 24571.495936" points="107.170172220185,121.196724408433 103.332882234158,114.544227404406 102.467055983751,114.043882619178 98.7903804278596,114.04082600123 98.7925037536525,108.708107461142 105.250060097171,108.712271340961 106.577653971981,109.495479502296 111.790035792781,118.53189701908 107.169640037435,121.197031381821 107.170172220185,121.196724408433"/>
					<polygon id="desk32" centroid="6957.989758, 26453.598672" points="98.7903903492001,103.30810703842 102.472393545465,103.311164930847 103.338617965327,102.811509795344 107.179602852065,96.1648420563057 111.796810916117,98.8330401804269 106.564426718657,107.887467695511 105.222351617084,108.645593636338 98.7903903492005,108.641440371753 98.7903905938234,103.307492667945 98.7903903492001,103.30810703842"/>
					<polygon id="desk33" centroid="3807.519258, 26454.280036" points="90.7903905938227,103.307185059961 87.1126401424821,103.30810703842 86.2466147386976,102.808107038421 82.4082766564903,96.1599104634093 77.7900065634541,98.8262699448145 83.0187851496953,107.882780117713 84.3605582822914,108.641440371753 90.7903905938238,108.640518393295 90.790390593823,103.306570689438 90.7903905938227,103.307185059961"/>
					<polygon id="desk34" centroid="12463.270055, 17112.525123" points="137.686651566525,166.811525492588 141.683892650555,159.881730133694 146.30375622315,162.546557523047 142.30651513912,169.476352881941 137.686651566525,166.811525492588"/>
					<polygon id="desk35" centroid="13542.044388, 18108.587684" points="156.689376173008,158.863258627484 149.009499167127,158.863258627483 148.143473763343,159.363258627482 146.302959483371,162.547323569073 141.684689390334,159.880964087668 144.91564417434,154.28858554819 146.257417306936,153.52992529415 156.689376173009,153.52992529415 156.689376173009,158.863872998007 156.689376173008,158.863258627484"/>
					<polygon id="desk36" centroid="12168.520661, 19049.563643" points="137.007083849646,157.182814541905 138.849198550351,153.995977590293 138.849198550353,152.995977590294 135.010860468143,146.347781015283 139.62913056118,143.681421533878 144.857909147421,152.737931706776 144.844041633963,154.27927145274 141.625886003162,159.849481208573 137.006551789165,157.182507356644 137.007083849646,157.182814541905"/>
					<polygon id="desk37" centroid="42232.959526, 6571.325764" points="335.093133696835,232.287037230938 345.826467030168,232.287037230938 345.826467030168,237.620370564271 335.093133696834,237.620370564271 335.093133696835,232.287037230938"/>
					<polygon id="desk38" centroid="42232.959526, 7371.325764" points="335.093133696835,232.287037230938 345.826467030168,232.287037230938 345.826467030168,226.953703897604 335.093133696834,226.953703897604 335.093133696835,232.287037230938"/>
					<polygon id="desk39" centroid="40622.959526, 6571.325764" points="324.359800363501,232.287037230938 335.093133696835,232.287037230938 335.093133696835,237.620370564271 324.359800363501,237.620370564271 324.359800363501,232.287037230938"/>
					<polygon id="desk40" centroid="40622.959526, 7371.325764" points="324.359800363501,232.287037230938 335.093133696835,232.287037230938 335.093133696835,226.953703897604 324.359800363501,226.953703897604 324.359800363501,232.287037230938"/>
					<polygon id="desk41" centroid="33692.765105, 6521.325764" points="278.691837562628,238.287037230938 288.358504229295,238.287037230938 288.358504229295,232.287037230938 278.691837562628,232.287037230938 278.691837562628,238.287037230938"/>
					<polygon id="desk42" centroid="33692.765105, 7421.325764" points="278.691837562628,226.287037230938 288.358504229295,226.287037230938 288.358504229295,232.287037230938 278.691837562628,232.287037230938 278.691837562628,226.287037230938"/>
					<polygon id="desk43" centroid="35142.765105, 6521.325764" points="288.358504229295,238.287037230938 298.025170895962,238.287037230938 298.025170895962,232.287037230938 288.358504229295,232.287037230938 288.358504229295,238.287037230938"/>
					<polygon id="desk44" centroid="35142.765105, 7421.325764" points="288.358504229295,226.287037230938 298.025170895962,226.287037230938 298.025170895962,232.287037230938 288.358504229295,232.287037230938 288.358504229295,226.287037230938"/>
					<polygon id="desk45" centroid="38042.765105, 6521.325764" points="307.691837562628,238.287037230938 317.358504229295,238.287037230938 317.358504229295,232.287037230938 307.691837562628,232.287037230938 307.691837562628,238.287037230938"/>
					<polygon id="desk46" centroid="38042.765105, 7421.325764" points="307.691837562628,226.287037230938 317.358504229295,226.287037230938 317.358504229295,232.287037230938 307.691837562628,232.287037230938 307.691837562628,226.287037230938"/>
					<polygon id="desk47" centroid="36592.765105, 6521.325764" points="298.025170895962,238.287037230938 307.691837562628,238.287037230938 307.691837562628,232.287037230938 298.025170895962,232.287037230938 298.025170895962,238.287037230938"/>
					<polygon id="desk48" centroid="36592.765105, 7421.325764" points="298.025170895962,226.287037230938 307.691837562628,226.287037230938 307.691837562628,232.287037230938 298.025170895962,232.287037230938 298.025170895962,226.287037230938"/>
					<polygon id="desk49" centroid="36573.900492, 13425.624698" points="297.366073475801,186.591711005818 308.099406809134,186.591711005818 308.099406809134,191.925044339151 297.366073475801,191.925044339151 297.366073475801,186.591711005818"/>
					<polygon id="desk50" centroid="36573.900492, 14235.624698" points="297.366073475801,186.525044339154 308.099406809134,186.525044339154 308.099406809134,181.191711005821 297.366073475801,181.191711005821 297.366073475801,186.525044339154"/>
					<polygon id="desk51" centroid="39906.853056, 17229.16674" points="318.971265188524,164.272863982232 328.268845998459,158.910081539584 330.933582615924,163.529997469986 321.636001805989,168.892779912635 318.971265188524,164.272863982232"/>
					<polygon id="desk52" centroid="40416.777994, 23836.975121" points="322.37076477617,120.220808107083 331.668345586105,114.858025664435 334.33308220357,119.477941594837 325.035501393635,124.840724037486 322.37076477617,120.220808107083"/>
					<polygon id="desk53" centroid="40970.778863, 27627.389772" points="327.051143853321,97.892193837724 332.421693807139,88.5990976024541 337.03938137746,91.2676938527985 331.668831423641,100.560790088068 327.051143853321,97.892193837724"/>
					<polygon id="desk54" centroid="40269.30522, 28032.401642" points="326.992340466149,97.8607109586288 332.362890419967,88.5676147233588 327.745202849647,85.8990184730144 322.374652895829,95.1921147082845 326.992340466149,97.8607109586288"/>
					<polygon id="desk55" centroid="30442.804998, 29580.810609" points="267.839928892039,81.1857050130512 258.542348082104,86.5484874556994 255.877611464639,81.928571525297 265.175192274574,76.5657890826488 267.839928892039,81.1857050130512"/>
					<polygon id="desk56" centroid="2519.601245, 10747.586103" points="81.685237207955,207.483401563161 72.3876563980202,202.120619120513 69.7229197805552,206.740535050916 79.0205005904901,212.103317493564 81.685237207955,207.483401563161"/>
					<polygon id="desk57" centroid="35192.959752, 31339.000646" points="296.19313520645,63.1692046875309 296.19313520645,76.5025380208643 290.859801873117,76.5025380208643 290.859801873117,63.1692046875309 296.19313520645,63.1692046875309"/>
					<polygon id="desk58" centroid="5322.014753, 19376.103815" points="89.0201685498727,152.255183558025 99.753501883206,152.255183558025 99.753501883206,146.921850224692 89.0201685498727,146.921850224692 89.0201685498727,152.255183558025"/>
					<polygon id="desk59" centroid="2667.565849, 14943.286389" points="77.0620745285599,185.121783574225 71.6990867637009,175.82432119579 76.3189438461531,173.159482554867 81.6819316110122,182.456944933302 77.0620745285599,185.121783574225"/>
					<polygon id="desk60" centroid="1966.004827, 14538.610035" points="72.385001048352,187.819625934726 67.022013283493,178.522163556291 71.6418703659453,175.857324915367 77.0048581308043,185.154787293802 72.385001048352,187.819625934726"/>
					<polygon id="desk61" centroid="40831.059929, 10076.219044" points="329.690204139801,206.220744176878 338.099022051404,206.220744176878 338.099022051404,211.554077510211 332.442285999992,211.554077510211 331.576260596207,212.054077510211 328.746854153747,216.954753223815 324.128584060711,214.28839374241 328.348431007206,206.979404430916 329.690204139801,206.220744176878"/>
					<polygon id="desk62" centroid="40756.375628, 11826.085427" points="338.102163005873,200.820744176878 332.442285999992,200.820744176878 331.576260596207,200.320744176878 327.747922514,193.689868109943 323.129652420963,196.356227591348 328.348431007206,205.395417256173 329.690204139801,206.154077510211 338.102163005873,206.154077510211 338.102163005873,200.820744176878"/>
					<polygon id="desk63" centroid="32036.291191, 14683.877243" points="280.983266756992,179.962595752799 273.30338975111,179.962595752799 272.437364347326,180.462595752797 268.599026265119,187.110792327809 263.980756172082,184.444432846404 269.209534758324,175.387922673506 270.55130789092,174.629262419466 280.983266756993,174.629262419465 280.983266756992,179.963210123322 280.983266756992,179.962595752799"/>
					<polygon id="desk64" centroid="38427.154485, 14640.675377" points="316.511365675204,186.525044339152 308.102547763602,186.525044339153 308.102547763602,181.191711005819 313.759283815014,181.191711005819 314.625309218799,180.691711005819 317.454715661259,175.791035292215 322.072985754295,178.45739477362 317.8531388078,185.766384085115 316.511365675204,186.525044339152"/>
					<polygon id="desk65" centroid="39684.188686, 11016.034749" points="319.452046880275,211.588393742411 322.281985383215,206.686796473022 322.281985383215,205.686796473022 318.453647301006,199.055920406088 323.071917394043,196.389560924682 328.290695980287,205.428750589507 328.276828466827,206.970090335469 324.070849033792,214.255060409077 319.452046880275,211.588393742411"/>
					<polygon id="desk66" centroid="39574.025728, 13700.859672" points="326.749522934732,181.15739477362 323.919584431792,186.058992043009 323.919584431792,187.058992043009 327.747922514,193.689868109943 323.129652420963,196.356227591348 317.91087383472,187.317037926523 317.92474134818,185.775698180561 322.130720781215,178.490728106953 326.749522934732,181.15739477362"/>
					<polygon id="desk67" centroid="38501.838786, 12890.808993" points="308.099406809134,191.925044339151 313.759283815015,191.925044339152 314.625309218799,192.425044339152 318.453647301006,199.055920406087 323.071917394043,196.389560924683 317.853138807801,187.350371259857 316.511365675205,186.591711005819 308.099406809134,186.591711005818 308.099406809134,191.925044339151"/>
					<polygon id="desk68" centroid="29476.292918, 19515.472733" points="259.295320420246,142.41523578847 255.458030434219,149.067732792498 254.592204183812,149.568077577726 246.915528627921,149.571134195674 246.917651953714,154.903852735762 257.375208297232,154.899688855943 258.702802172042,154.116480694608 263.915183992842,145.080063177824 259.294788237496,142.414928815083 259.295320420246,142.41523578847"/>
					<polygon id="desk69" centroid="40161.499125, 25658.137925" points="331.669946006838,100.558860504392 327.830007503897,107.209829089425 327.830007503895,108.209829089424 331.668345586105,114.858025664435 327.050075493069,117.524385145839 321.821296906827,108.467874972941 321.835164420285,106.926535226978 327.051143853321,97.892193837724 331.670478067318,100.559167689653 331.669946006838,100.558860504392"/>
					<polygon id="desk70" centroid="35163.536012, 25657.119027" points="288.309005264317,100.567493005763 292.151591675392,107.216932117364 292.151989844846,108.216932038093 288.316299175694,114.86665639508 292.935630565539,117.531176811047 298.160802711596,108.472585416144 298.146321484834,106.931251313982 292.926745266496,97.8989874845531 288.308473326191,100.56780040285 288.309005264317,100.567493005763"/>
					<polygon id="desk71" centroid="31695.059117, 28831.655891" points="267.425535694323,91.1346216069635 263.221126738522,83.8523716797179 267.839928892039,81.1857050130512 270.668296917745,86.0845821360777 271.53432232153,86.5845821360781 277.19313520645,86.5845821360777 277.19313520645,91.9173010988877 268.753441313459,91.9173010988879 267.425535694323,91.1346216069635"/>
					<polygon id="desk72" centroid="30547.834516, 27892.021158" points="258.543019080852,86.5496515333559 261.372957583792,91.4512488027443 261.372957583792,92.4512488027446 257.544619501584,99.0821248696789 262.162889594621,101.748484351084 267.381668180864,92.709294686259 267.367800667404,91.1679549402969 263.161821234369,83.8829848666891 258.543019080852,86.5496515333559"/>
					<polygon id="desk73" centroid="29290.446958, 24267.561502" points="256.957978521839,112.395680428539 261.16238747764,119.677930355784 256.543585324123,122.344597022451 253.715217298417,117.445719899425 252.849191894632,116.945719899424 247.190379009712,116.945719899425 247.190379009712,111.613000936615 255.630072902703,111.613000936614 256.957978521839,112.395680428539"/>
					<polygon id="desk74" centroid="31620.021458, 27081.970479" points="277.193135206451,97.3173010988869 271.533258200569,97.3173010988876 270.667232796785,97.8173010988876 266.838894714578,104.448177165823 262.220624621541,101.781817684418 267.439403207783,92.7426280195925 268.781176340379,91.9839677655545 277.19313520645,91.9839677655536 277.193135206451,97.3173010988869"/>
					<polygon id="desk75" centroid="29365.484616, 26017.246914" points="247.190379009711,106.213000936614 252.850256015592,106.213000936614 253.716281419377,105.713000936614 257.544619501584,99.0821248696788 262.162889594621,101.748484351084 256.944111008378,110.787674015909 255.602337875783,111.546334269947 247.190379009711,111.546334269947 247.190379009711,106.213000936614"/>
					<polygon id="desk76" centroid="30437.671558, 25207.196235" points="265.840495135309,116.980650502146 263.010556632369,112.079053232758 263.010556632369,111.079053232757 266.838894714578,104.448177165823 262.220624621541,101.781817684418 257.001846035297,110.821007349242 257.015713548757,112.362347095205 261.221692981792,119.647317168813 265.840495135309,116.980650502146"/>
					<polygon id="desk77" centroid="34888.302776, 18788.266435" points="295.804789911056,154.291472323898 291.600380955255,161.573722251143 286.981578801738,158.907055584477 289.809946827444,154.00817846145 289.809946827444,153.00817846145 286.980540384984,148.107502747847 291.59881047802,145.441143266442 295.818657424516,152.750132577936 295.804789911056,154.291472323898"/>
					<polygon id="desk78" centroid="36110.329464, 17977.988707" points="296.275347658456,164.276442397505 299.105286161397,159.374845128117 299.971311565181,158.874845128117 307.627987729597,158.874845128117 307.627987729597,153.542126165307 297.190430557111,153.542126165307 295.862524937975,154.324805657231 291.656545504939,161.609775730839 296.275347658456,164.276442397505"/>
					<polygon id="desk79" centroid="39728.072485, 18787.858413" points="319.451185548138,152.726113340048 323.655594503939,145.443863412802 328.274396657456,148.110530079469 325.44602863175,153.009407202496 325.44602863175,154.009407202496 328.27543507421,158.910082916099 323.657164981174,161.576442397504 319.437318034678,154.26745308601 319.451185548138,152.726113340048"/>
					<polygon id="desk80" centroid="36110.329464, 19598.136142" points="296.275347658455,142.741143266442 299.105286161396,147.64274053583 299.971311565181,148.142740535831 307.627987729596,148.14274053583 307.627987729596,153.47545949864 297.19043055711,153.47545949864 295.862524937974,152.692780006716 291.656545504938,145.407809933109 296.275347658455,142.741143266442"/>
					<polygon id="desk81" centroid="38506.045797, 17977.988707" points="318.980627800737,164.276442397505 316.150689297797,159.374845128117 315.284663894012,158.874845128117 307.627987729597,158.874845128117 307.627987729597,153.542126165307 318.065544902082,153.542126165307 319.393450521219,154.324805657231 323.599429954254,161.609775730839 318.980627800737,164.276442397505"/>
					<polygon id="desk82" centroid="38506.045797, 19598.136142" points="318.980627800738,142.741143266442 316.150689297797,147.64274053583 315.284663894013,148.14274053583 307.627987729597,148.142740535829 307.627987729596,153.475459498639 318.065544902082,153.47545949864 319.393450521219,152.692780006716 323.599429954255,145.407809933109 318.980627800738,142.741143266442"/>
					<polygon id="desk83" centroid="34928.059373, 21213.199361" points="287.451098132384,136.557173690389 291.655507088186,129.274923763144 296.274309241703,131.94159042981 293.445941215996,136.840467552837 293.445941215996,137.840467552837 296.275347658457,142.741143266441 291.65707756542,145.407502747845 287.437230618925,138.098513436351 287.451098132384,136.557173690389"/>
					<polygon id="desk84" centroid="33706.032685, 20403.329654" points="286.980540384984,148.107502747847 284.150601882043,143.205905478458 283.284576478259,142.705905478458 275.627900313843,142.705905478458 275.627900313843,137.373186515648 286.065457486329,137.373186515648 287.393363105465,138.155866007572 291.599342538501,145.44083608118 286.980540384984,148.107502747847"/>
					<polygon id="desk85" centroid="33706.032685, 22023.477089" points="286.980540384985,126.572203616783 284.150601882044,131.473800886171 283.284576478259,131.973800886171 275.627900313844,131.97380088617 275.627900313843,137.30651984898 286.065457486329,137.306519848981 287.393363105465,136.523840357057 291.599342538502,129.23887028345 286.980540384985,126.572203616783"/>
					<polygon id="desk86" centroid="2774.880114, 12568.748907" points="72.3860559772875,187.82145396047 76.2259944802284,194.472422545503 76.2259944802297,195.472422545502 72.3876563980202,202.120619120513 77.0059264910567,204.786978601918 82.2347050772985,195.730468429019 82.2208375638404,194.189128683056 77.0048581308043,185.154787293802 72.3855239168069,187.821761145731 72.3860559772875,187.82145396047"/>
					<polygon id="desk87" centroid="7772.843228, 12567.730008" points="115.746996719808,187.830086461841 111.904410308733,194.479525573442 111.904012139279,195.479525494172 115.739702808432,202.129249851158 111.120371418587,204.793770267125 105.895199272529,195.735178872222 105.909680499291,194.19384477006 111.129256717629,185.161580940631 115.747528657934,187.830393858928 115.746996719808,187.830086461841"/>
					<polygon id="desk88" centroid="10833.892982, 14898.613438" points="122.631604975589,178.53556354534 130.311481372691,178.532505652913 131.177705792553,179.032160788416 135.018690679291,185.678828527454 139.635898743343,183.010630403333 134.403514545882,173.956202888249 133.06143944431,173.198076947422 122.629481405172,173.202230634777 122.631605220213,178.536177915815 122.631604975589,178.53556354534"/>
					<polygon id="desk89" centroid="8546.711168, 18971.383383" points="111.575443429796,151.502613542402 115.779852385597,144.220363615156 120.398654539114,146.887030281823 117.570286513408,151.785907404849 117.570286513408,152.78590740485 120.399692955868,157.686583118453 115.781422862832,160.352942599858 111.561575916336,153.043953288364 111.575443429796,151.502613542402"/>
					<polygon id="desk90" centroid="7324.68448, 19781.661111" points="111.104885682396,141.517643468795 108.274947179455,146.419240738183 107.408921775671,146.919240738183 99.7522456112552,146.919240738183 99.752245611255,152.251959700993 110.189802783741,152.251959700993 111.517708402877,151.469280209069 115.723687835913,144.184310135461 111.104885682396,141.517643468795"/>
					<polygon id="desk91" centroid="7324.68448, 18161.513676" points="111.104885682397,163.052942599858 108.274947179456,158.15134533047 107.408921775671,157.651345330469 99.7522456112559,157.65134533047 99.7522456112557,152.31862636766 110.189802783742,152.318626367659 111.517708402878,153.101305859584 115.723687835914,160.386275933191 111.104885682397,163.052942599858"/>
					<polygon id="desk92" centroid="2097.318339, 18971.383383" points="77.1982270032827,151.502613542402 72.9938180474814,144.220363615156 68.3750158939644,146.887030281823 71.2033839196706,151.785907404849 71.2033839196709,152.78590740485 68.3739774772104,157.686583118453 72.9922475702468,160.352942599858 77.2120945167423,153.043953288364 77.1982270032827,151.502613542402"/>
					<polygon id="desk93" centroid="3319.345027, 19781.661111" points="77.6687847506828,141.517643468795 80.4987232536235,146.419240738183 81.364748657408,146.919240738183 89.0214248218235,146.919240738183 89.0214248218237,152.251959700993 78.5838676493378,152.251959700993 77.2559620302017,151.469280209069 73.0499825971658,144.184310135461 77.6687847506828,141.517643468795"/>
					<polygon id="desk94" centroid="3319.345027, 18161.513676" points="77.6687847506822,163.052942599858 80.4987232536228,158.15134533047 81.3647486574074,157.651345330469 89.0214248218229,157.65134533047 89.0214248218231,152.31862636766 78.5838676493372,152.318626367659 77.255962030201,153.101305859584 73.0499825971651,160.386275933191 77.6687847506822,163.052942599858"/>
					<polygon id="desk95" centroid="36425.124085, 30830.302931" points="296.907564094372,76.2271894528439 306.574230761039,76.2271894528439 306.574230761039,70.2271894528439 296.907564094372,70.2271894528439 296.907564094372,76.2271894528439"/>
					<polygon id="desk96" centroid="36425.124085, 31730.302931" points="296.907564094372,64.2271894528439 306.574230761039,64.2271894528439 306.574230761039,70.2271894528439 296.907564094372,70.2271894528439 296.907564094372,64.2271894528439"/>
					<polygon id="desk97" centroid="37875.124085, 30830.302931" points="306.574230761039,76.2271894528439 316.240897427705,76.2271894528439 316.240897427705,70.2271894528439 306.574230761039,70.2271894528439 306.574230761039,76.2271894528439"/>
					<polygon id="desk98" centroid="37875.124085, 31730.302931" points="306.574230761039,64.2271894528439 316.240897427705,64.2271894528439 316.240897427705,70.2271894528439 306.574230761039,70.2271894528439 306.574230761039,64.2271894528439"/>
					<polygon id="desk99" centroid="40312.959526, 30830.302931" points="322.826467030168,76.2271894528439 332.493133696835,76.2271894528439 332.493133696835,70.2271894528439 322.826467030168,70.2271894528439 322.826467030168,76.2271894528439"/>
					<polygon id="desk100" centroid="40312.959526, 31730.302931" points="322.826467030168,64.2271894528439 332.493133696835,64.2271894528439 332.493133696835,70.2271894528439 322.826467030168,70.2271894528439 322.826467030168,64.2271894528439"/>
					<polygon id="desk101" centroid="41762.959526, 30830.302931" points="332.493133696835,76.2271894528439 342.159800363502,76.2271894528439 342.159800363502,70.2271894528439 332.493133696835,70.2271894528439 332.493133696835,76.2271894528439"/>
					<polygon id="desk102" centroid="41762.959526, 31730.302931" points="332.493133696835,64.2271894528439 342.159800363502,64.2271894528439 342.159800363502,70.2271894528439 332.493133696835,70.2271894528439 332.493133696835,64.2271894528439"/>
					<polygon id="desk103" centroid="18101.378055, 15691.817695" points="167.439257223553,170.150424358149 167.439257223553,178.150424358149 191.72592389022,178.150424358149 191.72592389022,170.150424358149 171.72592389022,170.150424358149 167.439257223553,170.150424358149"/>
					<polygon id="desk104" centroid="5322.014753, 18576.103815" points="89.0201685498727,152.255183558025 99.753501883206,152.255183558025 99.753501883206,157.588516891358 89.0201685498727,157.588516891358 89.0201685498727,152.255183558025"/>
					<polygon id="desk105" centroid="11761.868246, 17517.477368" points="133.010639505395,164.111843854773 137.007880589425,157.18204849588 141.627744162021,159.846875885233 137.630503077991,166.776671244127 133.010639505395,164.111843854773"/>
					<polygon id="desk106" centroid="12057.658159, 15580.071117" points="144.312429592511,180.310618591811 140.469843181437,173.661179480211 140.469445011983,172.661179559481 142.306249047745,169.476199395248 137.6869176579,166.811678979281 134.460632145233,172.40552618143 134.475113371995,173.946860283592 139.694689590333,182.979124113021 144.312961530638,180.310311194724 144.312429592511,180.310618591811"/>
					<polygon id="desk107" centroid="10683.467364, 16520.86036" points="133.01037341402,164.11169036808 131.171970061383,167.299443179354 130.306143810976,167.799787964582 122.629468255085,167.80284458253 122.631591580878,173.135563122618 133.089147924396,173.131399242799 134.416741799207,172.348191081464 137.630236986616,166.776517757434 133.00984123127,164.111383394693 133.01037341402,164.11169036808"/>
					<polygon id="desk108" centroid="5273.594778, 12163.702278" points="90.0640353823815,195.004527137789 98.0640353823815,195.004527137789 98.0640353823815,200.337860471123 90.0640353823815,200.337860471123 90.0640353823815,195.004527137789"/>
					<polygon id="desk109" centroid="5273.915286, 12973.610123" points="90.0661721028859,189.605141508312 98.0661721028858,189.605141508312 98.0661721028858,194.938474841645 90.0661721028858,194.938474841645 90.0661721028859,189.605141508312"/>
					<polygon id="desk110" centroid="6848.568931, 11626.940765" points="106.443827174707,207.493758878326 102.60653718868,200.841261874298 101.740710938272,200.340917089071 98.0640353823815,200.337860471123 98.0661587081744,195.005141931035 104.523715051692,195.009305810853 105.851308926503,195.792513972189 111.063690747303,204.828931488972 106.443294991957,207.494065851713 106.443827174707,207.493758878326"/>
					<polygon id="desk111" centroid="6849.078051, 13509.043502" points="98.0661721028859,189.605141508312 101.746048499987,189.608199400739 102.612272919849,189.108544265237 106.453257806587,182.461876526198 111.070465870639,185.130074650319 105.838081673179,194.184502165404 104.496006571606,194.942628106231 98.0640485324687,194.938474418875 98.0661723475091,189.604527137838 98.0661721028859,189.605141508312"/>
					<polygon id="desk112" centroid="3698.486612, 11627.310518" points="81.6813953112411,207.488829056155 85.5213338141814,200.837860471122 86.3873592179645,200.337860471121 90.0640353823815,200.337860471123 90.0640353823812,195.005141508313 83.6064782098981,195.005141508312 82.27857259076,195.787821000236 77.0625931577232,204.822162389489 81.6819273717214,207.489136241417 81.6813953112411,207.488829056155"/>
					<polygon id="desk113" centroid="3698.726993, 13509.724866" points="90.0661721028853,189.605141508312 86.386295097004,189.605141508312 85.5202696932196,189.105141508314 81.6819316110122,182.456944933302 77.063661517976,185.123304414707 82.2924401042172,194.179814587606 83.6342132368133,194.938474841645 90.0661721028864,194.938474841646 90.0661721028856,189.604527137789 90.0661721028853,189.605141508312"/>
					<polygon id="desk114" centroid="37662.463953, 26062.999141" points="305.98982988124,102.342548052234 313.98982988124,102.342548052234 313.98982988124,107.675881385567 305.98982988124,107.675881385567 305.98982988124,102.342548052234"/>
					<polygon id="desk115" centroid="37662.784461, 25253.091297" points="305.991966601744,107.741933681711 313.991966601744,107.741933681711 313.991966601744,113.075267015044 305.991966601744,113.075267015044 305.991966601744,107.741933681711"/>
					<polygon id="desk116" centroid="36087.810309, 24716.329784" points="297.612174809419,120.231165422248 301.449464795446,113.57866841822 302.315291045853,113.078323632992 305.991966601744,113.075267015044 305.989843275951,107.742548474956 299.532286932433,107.746712354775 298.204693057622,108.52992051611 292.992311236823,117.566338032894 297.612706992169,120.231472395635 297.612174809419,120.231165422248"/>
					<polygon id="desk117" centroid="39237.892628, 24716.699536" points="322.374606672884,120.226235600077 318.534668169944,113.575267015044 317.668642766161,113.075267015043 313.991966601744,113.075267015044 313.991966601744,107.742548052235 320.449523774227,107.742548052234 321.777429393365,108.525227544158 326.993408826402,117.559568933411 322.374074612404,120.226542785339 322.374606672884,120.226235600077"/>
					<polygon id="desk118" centroid="36087.221564, 26598.43252" points="305.988768218343,102.342548052234 302.309953484138,102.345605944661 301.443729064276,101.845950809159 297.602744177538,95.19928307012 292.985536113486,97.8674811942411 298.217920310947,106.921908709325 299.559995412519,107.680034650152 305.99089178876,107.675880962797 305.98876797372,102.341933681759 305.988768218343,102.342548052234"/>
					<polygon id="desk119" centroid="39237.652247, 26599.113884" points="313.989829881241,102.342548052234 317.669706887121,102.342548052234 318.535732290906,101.842548052236 322.374070373113,95.1943514772236 326.992340466149,97.8607109586288 321.763561879908,106.917221131527 320.421788747312,107.675881385567 313.98982988124,107.675881385568 313.989829881241,102.341933681711 313.989829881241,102.342548052234"/>
					<polygon id="desk120" centroid="30406.081008, 16897.367801" points="261.922594373608,161.315940375387 265.923677836744,168.243517954962 261.305292783694,170.910906930385 257.304209320559,163.983329350811 261.922594373608,161.315940375387"/>
					<polygon id="desk121" centroid="31107.463878, 17302.537055" points="266.598480171906,158.614812018081 270.599563635042,165.542389597655 265.981178581992,168.209778573079 261.980095118856,161.282200993505 266.598480171906,158.614812018081"/>
					<polygon id="desk122" centroid="30812.444313, 15365.0387" points="259.303150631394,181.746283300641 263.143089134335,175.095314715608 263.143089134336,174.095314715609 261.305881278193,170.911311504734 265.92415137123,168.24495202333 269.151799731405,173.837268832092 269.137932217947,175.378608578055 263.921952784911,184.412949967309 259.302618570913,181.74597611538 259.303150631394,181.746283300641"/>
					<polygon id="desk123" centroid="32186.135577, 16306.477089" points="270.599620191414,165.543101569092 272.438428468288,168.729876789989 273.304453872071,169.22987678999 280.981130036488,169.229876789989 280.981130036487,174.562595752799 270.523572864005,174.562595752799 269.195667244866,173.779916260875 265.980818037896,168.209768235758 270.600152251894,165.54279438383 270.599620191414,165.543101569092"/>
					<polygon id="desk124" centroid="29326.761408, 17893.154156" points="246.917665348425,160.303853158484 254.597541745527,160.300795266057 255.463766165388,160.80045040156 257.304209320559,163.983329350811 261.921417384611,161.31513122669 258.689574918718,155.724492501393 257.347499817145,154.966366560566 246.915541778008,154.970520247921 246.917665593049,160.304467528959 246.917665348425,160.303853158484"/>
					<polygon id="desk125" centroid="30699.980276, 18834.467649" points="266.597948233779,158.615119415168 264.755903554273,155.429469093354 264.755505384818,154.429469172625 268.591196053971,147.779744815638 263.971864664126,145.115224399671 258.746692518068,154.173815794574 258.761173744831,155.715149896736 261.980208231601,161.283624936378 266.598480171906,158.614812018081 266.597948233779,158.615119415168"/></g>
					</svg> </div>
				<div id="tableDiv" class="block"></div>
				<div class = "chartContainer block">
					<svg id="chart1" style="overflow:hidden"></svg>
				</div>
			</div>
		</div>
		<div class="projectTab block"></div>
	</div>


<script type="text/javascript">
	console.log(timeline);

	var jsonHtmlTable
	var modelJson
	var project
	var x = '';
	function graphUpdater(){
		data = graphData;
		chartData.datum(data).transition().duration(100).call(chart);
		nv.utils.windowResize(chart.update);
	};
	$('polygon').css({fill:"Grey"});
	$('polyline').css({opacity:0});

	$.when(
	$.getJSON("seatMapBackward.json", function(data) {
	        deskMap = data;
	    }),
	$.getJSON("projects2.json", function(data) {
	        modelJson = data.data;
	    }),
	$.getJSON("seatMap.json", function(data) {
	        seatMap = data;
	    })).then(function(){

			//convert json to html table
			jsonHtmlTable = ConvertJsonToTable(modelJson, 'table');
			//append html to dom
			$('#tableDiv').append(jsonHtmlTable);
			//enable editable Table Widget
			$('#tableDiv').editableTableWidget();
			//update the model
			$('#table').change(tableReader);
			$('#table').change(graphUpdater);
			$('#table').change(function(){
				modelJson = $('#table').tableToJSON();
			});
			//get resource list on hover, and highlight appropriate desks
			$('#table tbody tr').hover(tableHandlerIn,tableHandlerOut);

			//create Snap over the top of the other svg
			var grabsvg = Snap.select('#flux');
			var s = Snap("#flux");
			$('polygon').each(function(i,e){

				// coords = $(this).attr("centroid");
				// ids = $(this).attr("id");
				// console.log(ids);
				// console.log(deskMap[String(ids)]);
				// coords = coords.split(",")
				// var text = s.text((coords[0]/150),(coords[1]/150));
				// text.attr({'font-size':5});
			});
			tableReader();
			graphDataAdder();
	});

	function tableHandlerIn(){
		//find resources associated with row
		resources = $(this).find('td').last().html();
		project = $(this).find('td').first().html();
		//how damn good is this!
		//split resources
		resourceList = resources.split(',');
		//for each resource loop through and change desk colour
		resourceList.forEach(function(e,i){
			e = (e.replace(/ /g,''));
			desk = $('#'+seatMap[e]);
			desk.css({stroke:'black'});
			});
	};

	function projectView(){	//find all projects in table
		$("#tableDiv tbody tr").each(function(i,e){

		project = $(e).find('td').first().html();
		resources = $(e).find('td').last().html();
		//how damn good is this!
		//split resources
		resourceList = resources.split(',');
		//for each resource loop through and change desk colour
		resourceList.forEach(function(e,i){
			e = (e.replace(/ /g,''));
			desk = $('#'+seatMap[e]);
			desk.css({fill:colors(project)});
			});

		});
	};

	function tableHandlerOut(){
		//find resources associated with row
		resources = $(this).find('td').last().html();
		project = $(this).find('td').first().html();
		//split resources
		resourceList = resources.split(',');
		//for each resource loop through and change desk colour
		resourceList.forEach(function(e,i){
			e = (e.replace(/ /g,''));
			desk = $('#'+seatMap[e]);
			desk.css({stroke:"None"});
			});
		$("[projectLine="+project+']').css({opacity:0});
	};

	function countItem(arr,item){
		//count instance of unique item in array
		var count = 0;
		for(var i = 0; i < arr.length; ++i){
	    	if(arr[i] == item){
	        count++;
	    }
		}
		return count;
	};

	var chartData;
	var graphData = [];
	var colors = d3.scale.category20();
	var chart;

	  
	function graphDataAdder(){
		
		//activate DVND3 and create stacked chart
	 	data = graphData;

	    nv.addGraph(function() {
	        chart = nv.models.stackedAreaChart()
	        //    .useInteractiveGuides(true)
	            .x(function(d) { return d[0] })
	            .y(function(d) { return d[1] })
	            .controlLabels({stacked: "Stacked"})
	            .duration(300);


	        chart.xAxis.tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });
	        chart.yAxis.tickFormat(d3.format(',.4f'));

	        // chart.legend.vers('furious');
	        chartData = d3.select('#chart1').datum(data);
	        d3.select('#chart1')
	            .datum(data)
	            .call(chart);


	        nv.utils.windowResize(chart.update);
	        return chart;

	    });
	};

	function tableReader(){
		graphData = [];
		var projectNames =[];
		var startDates =[];
		var endDates =[];
		var resourceCounts =[];
		var resourceSet = [];
		//Step 1. Get data from Table
		//get project names, start and end, and count of resources
		$('#table tbody tr').each(function(i,row){
			$row = $(row);
			projectName = $row.find('td').first().html(); //project name
			startDate = $row.find('td:nth-child(2)').html(); //start
			endDate = $row.find('td:nth-child(3)').html(); //end
			resourceTemp = $row.find('td').last().html().split(",");

			projectNames.push(projectName);
			startDates.push(parseInt(startDate));
			endDates.push(parseInt(endDate));
			resourceCounts.push(resourceTemp.length);
			Array.prototype.push.apply(resourceSet, resourceTemp);

		});
		
		endDate = (Math.max.apply(null,endDates));
		var totalUsedResources = resourceSet;
		resourceSet = new Set(resourceSet);

		//loop through resources and count times each reasource is used.
		//place count on associated desk.
		var deskUseObj = {};
		var mostUsedMan = 0
		resourceSet.forEach(function(e,i,a){

			deskUseObj[seatMap[e]] = countItem(totalUsedResources,e);
			if (deskUseObj[seatMap[e]]> mostUsedMan){
				mostUsedMan = deskUseObj[seatMap[e]];
			}
		});

		//create color range with d3.
		var color = d3.scale.linear()
				    	.domain([1,mostUsedMan])
				    	.range(["green","red"]);
		//set unused desks to zero.
		$('polygon').css({fill:"Grey"});
		Object.keys(deskUseObj).forEach(function(key,index){
			$('#'+key).css({fill:color(deskUseObj[key])});
		});
		//use jquery to change desk colour.


		//update graphData object to be fed to NVD3
		for ( i = 0;i<projectNames.length;i++){
			tempObj = {};
				tempObj["key"] = projectNames[i];
				tempObj["values"] =[];
			for (j = 0;j<endDate;j++){
				miniList=[j+1];
				if (startDates[i] <= j && j <= endDates[i]){
					miniList.push(resourceCounts[i]);
				}
				else{
					miniList.push(0);	
			}
				tempObj.values.push(miniList);
				};

			graphData.push(tempObj);
			};
		var exports = {};
		exports["graphData"] = graphData;
		exports["color"] = color
		return exports;
	}
;</script>

</body>
</html>
